<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class EncryptedFilePersistence</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class EncryptedFilePersistence</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
											<a href="#sec-consts">Constants</a>
						
			</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Concrete class implementing encrypted file-based persistence.</p>
<p class="description"><p>Key-value pairs are stored as individual files under the store path.  This permits file locking to be used during read and write activities,  potentially allowing many simultaneous processes to safely access the store.</p><p>File names are the hashed keys - file contents are the encrypted  serialized version of the stored value.</p></p>
		<p class="notes">
			Located in <a class="field" href="_model---persistence.php.html">/model/persistence.php</a> (line <span class="field">327</span>)
		</p>
		
				
		<pre><a href="../phpbiff/EncryptedPersistence.html">EncryptedPersistence</a>
   |
   --EncryptedFilePersistence</pre>
	
			</div>
</div>



	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
															<a href="#sec-consts">Constants</a>
							
					</div>
		<div class="info-box-body">
			<div class="var-summary">
																																<div class="var-title">
					<span class="var-type">array</span>
					<a href="#$filenameCache" title="details" class="var-name">$filenameCache</a>
				</div>
																<div class="var-title">
					<span class="var-type">store</span>
					<a href="#$storePath" title="details" class="var-name">$storePath</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-consts">Constants</a>
							
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																				
												<div class="method-definition">
											<span class="method-result">EncryptedFilePersistence</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
											([<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span> = <span class="var-default">''</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$isEncryptionKeyHashed</span> = <span class="var-default">false</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$storePath</span> = <span class="var-default">''</span>])
									</div>
																<div class="method-definition">
											<span class="method-result">mixed</span>
										<a href="#fetch" title="details" class="method-name">fetch</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">bool</span>
										<a href="#hasKey" title="details" class="method-name">hasKey</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span>)
									</div>
																<div class="method-definition">
											<span class="method-result">bool</span>
										<a href="#store" title="details" class="method-name">store</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span>, <span class="var-type">mixed</span>&nbsp;<span class="var-name">$value</span>)
									</div>
								</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
												<a href="#sec-consts">Constants</a>
							
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			<a name="var$filenameCache" id="$filenameCache"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">array</span>
			<span class="var-name">$filenameCache</span>
						(line <span class="line-number">336</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Cache of keys and their filenames.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$storePath" id="$storePath"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">store</span>
			<span class="var-name">$storePath</span>
						(line <span class="line-number">343</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Path to the file store directory.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
							<h4>Inherited Variables</h4>
				<A NAME='inherited_vars'><!-- --></A>
									<p>Inherited from <span class="classname"><a href="../phpbiff/EncryptedPersistence.html">EncryptedPersistence</a></span></p>
					<blockquote>
													<span class="var-title">
								<span class="var-name"><a href="../phpbiff/EncryptedPersistence.html#var$encryptionIV">EncryptedPersistence::$encryptionIV</a></span><br>
							</span>
													<span class="var-title">
								<span class="var-name"><a href="../phpbiff/EncryptedPersistence.html#var$encryptionKey">EncryptedPersistence::$encryptionKey</a></span><br>
							</span>
													<span class="var-title">
								<span class="var-name"><a href="../phpbiff/EncryptedPersistence.html#var$encryptionResource">EncryptedPersistence::$encryptionResource</a></span><br>
							</span>
													<span class="var-title">
								<span class="var-name"><a href="../phpbiff/EncryptedPersistence.html#var$isEncryptionKeyHashed">EncryptedPersistence::$isEncryptionKeyHashed</a></span><br>
							</span>
											</blockquote> 
										
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																			<a href="#sec-consts">Constants</a>
							
										<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>

<a name="method__construct" id="__construct"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">Constructor __construct</span> (line <span class="line-number">354</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Creates a new encrypted file store from the given parameters.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">EncryptedFilePersistence</span>
		<span class="method-name">
			__construct
		</span>
					([<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span> = <span class="var-default">''</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$isEncryptionKeyHashed</span> = <span class="var-default">false</span>], [<span class="var-type">string</span>&nbsp;<span class="var-name">$storePath</span> = <span class="var-default">''</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$key</span><span class="var-description">: The key to use to encrypt the file store.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$isEncryptionKeyHashed</span><span class="var-description">: Whether the given key is hashed.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$storePath</span><span class="var-description">: The path to the file store.</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../phpbiff/EncryptedPersistence.html#method__construct">EncryptedPersistence::__construct()</a></dt>
						<dd>Creates a new encrypted store from the given parameters.</dd>
					</dl>
			
	</div>
<a name="methodfetch" id="fetch"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">fetch</span> (line <span class="line-number">385</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Function to retrieve the stored value for the given key.</p>
<p class="description"><p>Returns the stored object, or null if the value can't be retrieved.</p><p>Accesses a file with name equal to the hash of the given key, and  retrieves the encrypted, encoded, serialized value from the file.  Decodes, decrypts, and deserializes the value from the read data,  and returns it. Returns null on any error.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> The stored value.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			fetch
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$key</span><span class="var-description">: The key under which the value is stored.</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../phpbiff/EncryptedPersistence.html#methodfetch">EncryptedPersistence::fetch()</a></dt>
						<dd>Function to retrieve the stored value for the given key.</dd>
					</dl>
			
	</div>
<a name="methodhasKey" id="hasKey"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">hasKey</span> (line <span class="line-number">486</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Function to return whether or not the store contains the given key.</p>
<p class="description"><p>Returns true if the key exists in the store; false otherwise.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Whether the key exists in the store.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">bool</span>
		<span class="method-name">
			hasKey
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$key</span><span class="var-description">: The key to be tested.</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../phpbiff/EncryptedPersistence.html#methodhasKey">EncryptedPersistence::hasKey()</a></dt>
						<dd>Function to return whether or not the store contains the given key.</dd>
					</dl>
			
	</div>
<a name="methodstore" id="store"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">store</span> (line <span class="line-number">513</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Function to store the given value under the given key.</p>
<p class="description"><p>Returns true on success; false otherwise.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Whether the store operation was successful.</li>
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">bool</span>
		<span class="method-name">
			store
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$key</span>, <span class="var-type">mixed</span>&nbsp;<span class="var-name">$value</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$key</span><span class="var-description">: The key under which the value is to be stored.</span>			</li>
					<li>
				<span class="var-type">mixed</span>
				<span class="var-name">$value</span><span class="var-description">: The value to be stored.</span>			</li>
				</ul>
		
			<hr class="separator" />
		<div class="notes">Redefinition of:</div>
		<dl>
			<dt><a href="../phpbiff/EncryptedPersistence.html#methodstore">EncryptedPersistence::store()</a></dt>
						<dd>Function to store the given value under the given key.</dd>
					</dl>
			
	</div>
							<h4>Inherited Methods</h4>
				<a name='inherited_methods'><!-- --></a>	
									<!-- =========== Summary =========== -->
					<p>Inherited From <span class="classname"><a href="../phpbiff/EncryptedPersistence.html">EncryptedPersistence</a></span></p>
					<blockquote>
													<span class="method-name"><a href="../phpbiff/EncryptedPersistence.html#method__construct">EncryptedPersistence::__construct()</a></span><br>
													<span class="method-name"><a href="../phpbiff/EncryptedPersistence.html#methoddecryptData">EncryptedPersistence::decryptData()</a></span><br>
													<span class="method-name"><a href="../phpbiff/EncryptedPersistence.html#methodencryptData">EncryptedPersistence::encryptData()</a></span><br>
													<span class="method-name"><a href="../phpbiff/EncryptedPersistence.html#methodfetch">EncryptedPersistence::fetch()</a></span><br>
													<span class="method-name"><a href="../phpbiff/EncryptedPersistence.html#methodhasKey">EncryptedPersistence::hasKey()</a></span><br>
													<span class="method-name"><a href="../phpbiff/EncryptedPersistence.html#methodstore">EncryptedPersistence::store()</a></span><br>
													<span class="method-name"><a href="../phpbiff/EncryptedPersistence.html#method__destruct">EncryptedPersistence::__destruct()</a></span><br>
											</blockquote>
										
		</div>
	</div>

	<a name="sec-consts"></a>
	<div class="info-box">
		<div class="info-box-title">Class Constants</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Constants</a> (<span class="disabled">details</span>)
						
			
												<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
														| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
										<h4>Inherited Constants</h4>
				<A NAME='inherited_vars'><!-- --></A>
									<p>Inherited from <span class="classname"><a href="../phpbiff/EncryptedPersistence.html">EncryptedPersistence</a></span></p>
					<blockquote>
													<img src="../media/images/Variable.png" />
							<span class="const-title">
								<span class="const-name"><a href="../phpbiff/EncryptedPersistence.html#constcipherType">EncryptedPersistence::cipherType</a></span><br>
							</span>
													<img src="../media/images/Variable.png" />
							<span class="const-title">
								<span class="const-name"><a href="../phpbiff/EncryptedPersistence.html#constencryptionMode">EncryptedPersistence::encryptionMode</a></span><br>
							</span>
											</blockquote> 
										
		</div>
	</div>

	<p class="notes" id="credit">
		Documentation generated on Sun, 31 Jan 2010 12:09:07 +1000 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.1</a>
	</p>
	</div></body>
</html>